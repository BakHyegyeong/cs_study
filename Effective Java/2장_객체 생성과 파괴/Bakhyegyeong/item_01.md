# 아이템 1 : 생성자 대신 정적 팩터리 메서드를 고려하라.

## static factory method

: 클래스의 인스턴스를 반환하는 정적 메서드로 객체 생성 역할을 하는 클래스 메서드이다.

## 장점

1. 이름을 가질 수 있다.
    
    : 기존의 생성자와 달리 다른 이름을 사용할 수 있어 메서드의 이름만으로 기능을 확인할 수 있다.
    
2. 호출될 때마다 인스턴스를 새로 생성하지 않아도 된다.
    
    : 인스턴스를 미리 만들어 놓거나 캐싱하여 재활용하는 방식으로 불필요한 객체 생성을 피할 수 있다.
    
    → 인스턴스 통제가 가능하다.
    
    <aside>
    💡
    
    인스턴스 통제 : 언제 어느 인스턴스를 살아 있게 할지를 통제하는 것
    
    - 클래스를 싱글턴으로 만들 수 있다.
    - 인스턴스화 불가로 만들 수 있다.
    - 불변 값 클래스에서 동치인 인스턴스가 하나뿐임을 보장할 수 있다.
    </aside>
    
3. 반환 타입의 하위 타입 객체를 반환할 수 있다.
    
    : API를 만들 때 이 유연성을 응용하면 구현 클래스를 공개하지 않고도 그 객체를 반환할 수 있어 API를 작게 유지할 수 있다.
    
4. 입력 매개변수에 따라 다른 클래스의 객체를 반환할 수 있다.
    
    : 반환 타입의 하위 타입이라면 어떤 클래스의 객체를 반환하든 상관없다.
    
5. 정적 팩터리 메서드를 작성하는 시점에 반환할 객체의 클래스가 존재하지 않아도 된다.
    
    → 인터페이스나 클래스가 만들어지는 시점에서 하위 타입의 클래스가 존재하지 않아도 **나중에 만든 클래스가 인터페이스나 클래스를 상속받는다면 언제든지 사용**할 수 있다.
    
    → 이는 보통 서비스 제공자 프레임워크를 만들 때 사용된다.
    
    <aside>
    💡
    
    서비스 제공자 프레임워크 - JDBC
    
    → JDBC에서 getConnection()을 할 때 실제로 return되는 객체는 드라이버마다 다르다.
    
    → 인터페이스를 사용해 틀을 만들어 놓고, 그 틀에 맞춰서 **각각의 서비스 제공자들이 자신의 서비스에 맞춰서 구현 클래스를 제공하도록 하는 것**이다.
    
    </aside>
    

## 단점

1. 상속을 하려면 public이나 protected 생성자가 필요해 정적 팩터리 메서드만 제공하면 하위 클래스를 만들 수 없다.
2. 프로그래머가 찾기 힘들다.
    
    → 정적 팩토리 메서드의 경우에는 생성자와 달리 상단에 정리되지 않기 때문에 사용자가 API 문서를 잘 작성해두는 등의 방법을 이용해 찾아야 한다.
    

## 컨벤션

- from : 하나의 매개 변수를 받아서 객체를 생성
    - ex. Date date = Date.from(instant);
- of : 여러개의 매개 변수를 받아서 객체를 생성
- valueOf: from과 of의 더 자세한 버전
    - BigInteger prime = BigInteger.valueOf(Integer.MAX_VALUE);
- getInstance | instance : 인스턴스를 생성. 이전에 반환했던 것과 같을 수 있음.
- newInstance | create : 새로운 인스턴스를 생성
- get[OtherType] : 다른 타입의 인스턴스를 생성. 이전에 반환했던 것과 같을 수 있음.
- new[OtherType] : 다른 타입의 새로운 인스턴스를 생성.

https://github.com/Meet-Coder-Study/book-effective-java/issues/1 - 추가 참조