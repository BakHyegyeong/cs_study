# 아이템 2 : 생성자에 매개변수가 많다면 빌더를 고려하라
생성자와 정적 팩터리는 **매개변수가 많을 때** 적절히 대응하기 어렵다.

## **점층적 생성자 패턴**

: 필수 매개변수만 받는 생성자, 필수 매개변수와 선택 매개변수만 받는 생성자 등 각 경우에 해당하는 생성자를 늘려가는 방식

→ 이 같은 경우에는 매개변수 개수가 많아지면 코드를 작성하거나 읽기 어렵다. 

## 자바빈즈 패턴

: 매개변수가 없는 생성자로 객체를 만든 후 setter메서드들을 호출해 원하는 매개변수의 값을 설정하는 방식

→ 객체 하나를 만들기 위해 **메서드를 여러 개 호출**해야 하고, 객체가 완전히 생성되기 전까지 **일관성이 깨진다.** (위의 방법에서는 매개변수가 유효한지 생성자에서 확인하는 것으로 일관성을 유지했다.)

→ 일관성이 깨진 객체는 버그를 심은 코드와 그 버그 때문에 런타임에 문제를 겪는 코드 때문에 디버깅이 어렵다.

→ **클래스를 불변으로 만들 수 없다.**

<aside>
💡

불변 클래스 : 인스턴스의 내부 값을 수정할 수 없는 클래스

</aside>

## 빌더 패턴

: 클라이언트가 필요한 객체를 직접 만드는 대신, 필수 매개변수만으로 생성자를 호출해 빌더 객체를 얻는다.

그 후 빌더 객체가 제공하는 setter 메서드들로 원하는 선택 매개변수를 설정한다.

마지막으로 build()메서드를 호출해 얻고자 했던 객체를 얻는다.

→ 점층적 생성자 패턴의 **안전성** + 자바빈즈 패턴의 **가독성**이 합쳐졌다.

- 빌더 패턴은 계층적으로 설계된 클래스와 함께 쓰기에 좋다.
    
    : 각 계층의 클래스에 관련 빌더를 멤버로 정의하고 추상 클래스는 추상 빌더를 구체 클래스는 구체 빌더를 갖게 한다.