# 아이템 57 : 지역변수의 범위를 최소화하라

# 지역변수의 유효 범위

지역변수의 유효 범위를 최소로 줄이면 **코드 가독성과 유지보수성이 높아지고 오류 가능성이 낮아진다.**

# 지역변수의 유효 범위를 줄이는 방법

## 가장 처음 쓰일 때 선언한다.

특정 상황(try-catch)를 제외하고는 선언과 동시에 초기화 해야 한다.

- 초기화를 하지 않는다면 변수의 생명주기 밖에서 **잘못 사용될 위험성이 있고 가독성이 떨어진다.**
- 초기화에 필요한 정보가 충분하지 않다면 **충분해질 때까지 선언을 미뤄야 한다.**
- 지역변수의 범위를 선언된 지점부터 해당 블록이 끝날 때까지로 한정 짓는다.

## 반복문을 사용한다.

반복문 내의 변수는 범위가 **반복문의 몸체,  for 키워드와 몸체 사이의 괄호 안으로 제한**된다.

→ for문은 변수의 범위를 해당 블럭 내부로 한정지어준다.

### while보다는 for문을 사용해야 한다.

```java
Iterator<Element> i = c.iterator();
while(i.hasNext()) {
	doSomething(i.next());
}

Iterator<Element> i2 = c.iterator();
while(i.hasNext()) {  // i2가 아닌 i로 잘못 사용
	doSomething(i2.next());
}
```

새로 초기화한 `i2`를 사용하지 않고 위에서 이미 사용한 `i`를 사용해 **순회가 일어나지 않고 끝나버리는 버그가 발생**한다. 

```java
for (Iterator<Element> i = c.iterator(); i.hasNext(); ) { 
	Element e = i.next();
    ...
}

// i.hasNext()로 잘못 사용
for (Iterator<Element> i2 = c.iterator(); i.hasNext(); ) { 
	Element e = i2.next();;
    ...
}
```

위에서 사용한 `i`는 스코프가 만료되어 더 이상 존재하기 않기 때문에 아래의 for문에서는 컴파일 오류가 발생한다.

## 메서드를 작게 유지하고 한 가지 기능에 집중한다.

한 메서드에서 여러 가지 기능을 처리한다면 **다른 기능을 수행하는 코드에서도 변수에 접근**할 수 있게 된다.

→ 메서드를 기능별로 쪼개서 해결한다.