# μ•„μ΄ν… 20 : μ¶”μƒ ν΄λμ¤λ³΄λ‹¤λ” μΈν„°νμ΄μ¤λ¥Ό μ°μ„ ν•λΌ

## μ¶”μƒ ν΄λμ¤μ™€ μΈν„°νμ΄μ¤μ λ©”μ»¤λ‹μ¦ λΉ„κµ

- κ³µν†µμ 
    - νƒ€μ…μ„ μ •μν•κΈ° μ„ν• λ‹¤μ¤‘ κµ¬ν„ λ©”μ»¤λ‹μ¦
    - μΈμ¤ν„΄μ¤ λ©”μ„λ“λ¥Ό κµ¬ν„ ν•νƒλ΅ μ κ³µ
- μ°¨μ΄μ 
    - μ¶”μƒ ν΄λμ¤
        - μ¶”μƒ ν΄λμ¤κ°€ μ •μν• νƒ€μ…μ„ κµ¬ν„ν•λ” ν΄λμ¤λ” λ°λ“μ‹ μ¶”μƒ ν΄λμ¤μ ν•μ„ ν΄λμ¤κ°€ λμ–΄μ•Ό ν•λ‹¤.
        β†’ μλ°”λ” λ‹¨μΌ μƒμ†λ§μ„ μ§€μ›ν•κΈ° λ•λ¬Έμ— μ¶”μƒ ν΄λμ¤ λ°©μ‹μ€ μƒλ΅μ΄ νƒ€μ… μ •μμ— μ μ•½μ„ κ°€μ§„λ‹¤.
    - μΈν„° νμ΄μ¤
        - μ–΄λ–¤ ν΄λμ¤λ¥Ό μƒμ†ν–λ”λΌλ„ μΈν„°νμ΄μ¤λ¥Ό μ •μν• ν΄λμ¤λ” ν•΄λ‹Ή μΈν„°νμ΄μ¤ νƒ€μ… μ·¨κΈ‰ κ°€λ¥
- μ¶”μƒν΄λμ¤ - λ‹¤μ¤‘ μƒμ†μ΄ λ¶κ°€λ¥, κµ¬ν„μ²΄μ™€ μƒμ„-ν•μ„ ν΄λμ¤ κ΄€κ³„λ¥Ό κ°–λ”λ‹¤.
- μΈν„°νμ΄μ¤ - λ‹¤μ¤‘ μƒμ†μ΄ κ°€λ¥, κµ¬ν„ν• ν΄λμ¤μ™€ κ°™μ€ νƒ€μ…μΌλ΅ μ·¨κΈ‰λλ‹¤.

## μΈν„°νμ΄μ¤μ μ¥μ 

### κΈ°μ΅΄ ν΄λμ¤μ— μ†μ‰½κ² μƒλ΅μ΄ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•΄ λ„£μ„ μ μλ‹¤.

- μΈν„°νμ΄μ¤ κµ¬ν„
    
    μΈν„°νμ΄μ¤κ°€ μ”κµ¬ν•λ” λ©”μ„λ“λ¥Ό (μ•„μ§ μ—†λ‹¤λ©΄) μ¶”κ°€ν•κ³ , ν΄λμ¤ μ„ μ–Έμ—Β `implement`Β κµ¬λ¬Έλ§ μ¶”κ°€ν•λ©΄ λλ‹¤.
    

- μ¶”μƒ ν΄λμ¤ κµ¬ν„
    
    λ‘ ν΄λμ¤κ°€ κ°™μ€ μ¶”μƒ ν΄λμ¤λ¥Ό ν™•μ¥ν•κΈΈ μ›ν•λ‹¤λ©΄ κ·Έ μ¶”μƒ ν΄λμ¤λ” λ‘ ν΄λμ¤μ κ³µν†µ μ΅°μƒμ΄μ–΄μ•Ό ν•κΈ° λ•λ¬Έμ΄λ‹¤. 
    β†’ μ΄λ° κµ¬μ΅°λ” μƒλ΅ μ¶”κ°€λ μ¶”μƒ ν΄λμ¤μ λ¨λ“  μμ†μ΄ μ΄λ¥Ό μƒμ†ν•κ² λλ©΄μ„ λ¬Έμ λ¥Ό μΌμΌν‚¨λ‹¤.
    

### μΈν„°νμ΄μ¤λ” λ―Ήμ¤μΈ μ •μμ— μ•μ„±λ§μ¶¤μ΄λ‹¤.


> π’΅ λ―Ήμ¤μΈ : ν΄λμ¤κ°€ κµ¬ν„ν•  μ μλ” νƒ€μ…μΌλ΅, λ―Ήμ¤μΈμ„ κµ¬ν„ν• ν΄λμ¤μ— μ›λμ **μ£Όλ κΈ°λ¥Β μ™Έμ—λ„ νΉμ • μ„ νƒμ  ν–‰μ„λ¥Ό μ κ³µν•λ‹¤κ³  μ„ μ–Έ**ν•λ” ν¨κ³Όλ¥Ό μ¤€λ‹¤. <br>
β†’ κ°μ²΄μ§€ν–¥μ–Έμ–΄μ—μ„ λ‹¤λ¥Έ ν΄λμ¤μ—μ„ μ‚¬μ©ν•  λ©μ μΌλ΅ λ§λ“¤μ–΄μ§„ ν΄λμ¤μ΄λ‹¤.


μλ¥Ό λ“¤μ–΄,Β μ•„λ μ½”λ“λ” `Comparable`Β κ³Ό `Serializable` λ¥Ό κµ¬ν„ν•΄ μμ‹ μ„ κµ¬ν„ν• ν΄λμ¤μ μΈμ¤ν„΄μ¤λ“¤λΌλ¦¬λ” μμ„λ¥Ό μ •ν•  μ μλ‹¤κ³  μ„ μ–Έν•λ”Β **λ―Ήμ¤μΈ μΈν„°νμ΄μ¤**μ΄λ‹¤. 

```java

public class Rank implements Comparable<Rank>, Serializable {
    
    @Override
    public int compareTo(Rank o) {
        return 0;
    }
}

```

μ°Έκ³ λ΅ λ‹¤μ¤‘ μƒμ†μ΄ μ•λκΈ° λ•λ¬Έμ— μ¶”μƒ ν΄λμ¤λ΅λ” λ―Ήμ¤μΈμ„ μ •μ λ¶κ°€λ¥ν•λ‹¤.

### κ³„μΈµκµ¬μ΅°κ°€ μ—†λ” νƒ€μ… ν”„λ μ„μ›ν¬λ¥Ό λ§λ“¤ μ μλ‹¤.

νƒ€μ…μ„ κ³„μΈµμ μΌλ΅ μ •μν•λ©΄ μλ§μ€ κ°λ…μ„ κµ¬μ΅°μ μΌλ΅ μ ν‘ν„ν•  μ μμ§€λ§ ν„μ‹¤μ—λ” κ³„μΈµμ„ κµ¬λ¶„ν•κΈ° μ–΄λ ¤μ΄ κ°λ…λ„ μλ‹¤.

μλ¥Ό λ“¤μ–΄ κ°€μμ™€ μ‘κ³΅μ„ λ™μ‹μ— ν•λ” μ‚¬λμ„ μΈν„°νμ΄μ¤λ΅ κµ¬ν„ν•  μ μλ‹¤.

```java
public interface Singer {
  AudioClip sing(Song s);
}

public interface Songwriter {
  Song compose(int chartPosition);
}

// Singer, Songwriter μΈν„°νμ΄μ¤λ¥Ό λ™μ‹μ— κµ¬ν„ν•λ” λ―Ήμ¤μΈ μΈν„°νμ΄μ¤
public interface SingerSongWriter extends Singer, SongWriter{
    AudioClip strum();
    void actSensitive();
}
```

- μ¶”μƒ ν΄λμ¤λ΅ κµ¬ν„ν• κ²½μ°
    
    ```java
    public abstract class Comic {
    
        void laugh();
    }
    
    public abstract class Action {
    
        void fight();
    }
    
    public abstract class Melo {
    
        void love();
    }
    
    public abstract class ActionComedy {
        
        void laugh();
        void fight();
        void slapstick();
    }
    ```
    
    ν΄λμ¤μ—λ” κ³µν†µ κΈ°λ¥μ„ μ •μν•΄λ†“λ” νƒ€μ…μ΄ μ—†μΌλ‹ κ°€λ¥ν•Β `2^n`κ°μ μ΅°ν•©(μ†μ„±μ΄Β `n`Β κ°μΌλ•) μ „λ¶€λ¥Ό ν΄λμ¤λ΅ μ •μν• κ³ λ„λΉ„λ§ κ³„μΈµ κµ¬μ΅°κ°€ λ§λ“¤μ–΄μ§ κ²ƒμ΄λ‹¤. ν”ν, μ΄λ¬ν• ν„μƒμ„Β **μ΅°ν•© ν­λ°**μ΄λΌ λ¶€λ¥Έλ‹¤.
    

### λνΌ ν΄λμ¤ κ΄€μ©κµ¬μ™€ ν•¨κ» μ‚¬μ©ν•λ©΄, μΈνΌμ—μ‹λ” κΈ°λ¥μ„ ν–¥μƒμ‹ν‚¤λ” μ•μ „ν•κ³  κ°•λ ¥ν• μλ‹¨μ΄ λλ‹¤.

νƒ€μ…μ„ μ¶”μƒ ν΄λμ¤λ΅ μ •μν•΄λ‘λ©΄, κ·Έ νƒ€μ…μ— κΈ°λ¥μ„ μ¶”κ°€ν•λ” λ°©λ²•μ€ μƒμ† λ°–μ— μ—†μ–΄μ§„λ‹¤.

β†’ μƒμ†ν•΄μ„ λ§λ“  ν΄λμ¤λ” λνΌ ν΄λμ¤λ³΄λ‹¤ ν™μ©λ„κ°€ λ–¨μ–΄μ§€κ³  κΉ¨μ§€κΈ°λ” λ” μ‰½λ‹¤.

**μΈν„°νμ΄μ¤ λ©”μ„λ“ μ¤‘ κµ¬ν„ λ°©λ²•μ΄ λ…λ°±ν• κ²ƒμ΄ μλ‹¤λ©΄, λ””ν΄λ“ λ©”μ„λ“λ΅ μ κ³µν•  μ μλ‹¤.**

β†’ λ‹¨, μƒμ†ν•λ ¤λ” μ‚¬λμ„ μ„ν• μ„¤λ…μ„Β `@implSpec`Β μλ°”λ… νƒκ·Έλ¥Ό λ¶™μ—¬ λ¬Έμ„ν™” ν•΄μ•Όν•λ‹¤. (μ•„μ΄ν… 19)


> π’΅ λ””ν΄νΈ λ©”μ„λ“ μ μ•½ <br> - `equals`μ™€Β `hashCode`λ” λ””ν΄νΈ λ©”μ„λ“λ΅ μ κ³µν•΄μ„λ” μ•λλ‹¤.<br>- μΈμ¤ν„΄μ¤ ν•„λ“λ¥Ό κ°€μ§ μ μ—†κ³ Β `public`μ΄ μ•„λ‹ μ •μ  λ©¤λ²„λ„ κ°€μ§ μ μ—†λ‹¤. (λ‹¨,Β `private`Β μ •μ  λ©”μ„λ“λ” μμ™Έ)<br>- μ§μ ‘ λ§λ“¤μ§€μ•μ€ μΈν„°νμ΄μ¤μ—λ” λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•  μ μ—†λ‹¤.


## μΈν„°νμ΄μ¤μ™€ μ¶”μƒ κ³¨κ²© ν΄λμ¤ - ν…ν”λ¦Ώ λ©”μ„λ“ ν¨ν„΄

μΈν„°νμ΄μ¤μ™€ μ¶”μƒ κ³¨κ²© ν΄λμ¤λ¥Ό ν•¨κ» μ κ³µν•λ” λ°©μ‹μΌλ΅, μΈν„°νμ΄μ¤μ™€ μ¶”μƒ ν΄λμ¤μ μ¥μ μ„ λ¨λ‘ μ·¨ν•  μ μλ‹¤.

1. μΈν„°νμ΄μ¤λ΅λ” νƒ€μ…μ„ μ •μμ™€ ν•„μ”ν• λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ κ³µν•λ‹¤.
2. κ³¨κ²© κµ¬ν„ ν΄λμ¤λ΅ λ‚λ¨Έμ§€ λ©”μ„λ“λ“¤κΉμ§€ κµ¬ν„ν•λ‹¤.

μ΄λ ‡κ² λλ©΄ λ‹¨μν κ³¨κ²© κµ¬ν„μ„ ν™•μ¥ν•λ” κ²ƒλ§μΌλ΅ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ”λ° ν•„μ”ν• μΌμ΄ μ™„λ£λλ‹¤. <br>
λ‹¤λ¥Έ λ§λ΅Β **ν…ν”λ¦Ώ λ©”μ„λ“ ν¨ν„΄(Template Method Pattern)** λΌκ³  ν•λ©° κΈ°λ³Έ κµ¬μ΅°λ” μ•„λμ™€ κ°™λ‹¤.

```java
interface InterfaceA {
    void methodA();
}

abstract class AbstractClassA implements InterfaceA {
    abstract void methodB();
}

class ConcreteClassA extends AbstractClassA {
    public void methodA() {
        System.out.println("method A");
    }

    public void methodB() {
        System.out.println("method B");
    }
}
```

### μ¶”μƒ κ³¨κ²© κµ¬ν„ ν΄λμ¤

- κ³¨κ²© κµ¬ν„ ν΄λμ¤λ¥Ό μ‚¬μ©ν•μ§€ μ•μ€ λ°λ³µμ μΈ μ½”λ“ μ‚¬μ©

```java

public interface Athlete { 
    
    void κ·Όμ΅μ„_ν‚¤μ°μ(); 
    void μ§€κµ¬λ ¥μ„_κΈ°λ¥΄μ(); 
    void μ—°μµν•μ(); 
    void λ£¨ν‹΄();
}

public class SoccerPlayer implements Athlete { 
    
    @Override 
    void κ·Όμ΅μ„_ν‚¤μ°μ() { 
        System.out.println("ν—¬μ¤μ¥ λ μΈ κ³ "); 
    }

    @Override 
    void μ§€κµ¬λ ¥μ„_κΈ°λ¥΄μ() { 
        System.out.println("μ²­κ³„μ² λ¬λ‹"); 
    }

    @Override 
    void μ—°μµν•μ() { 
        System.out.println("μν… μ—°μµ"); 
    }

    @Override
    void λ£¨ν‹΄() {
        κ·Όμ΅μ„_ν‚¤μ°μ();
        μ§€κµ¬λ ¥μ„_κΈ°λ¥΄μ();
        μ—°μµν•μ();
    }

}

public class BaseballPlayer implements Athlete {
    
    @Override
    void κ·Όμ΅μ„_ν‚¤μ°μ() {
        System.out.println("ν—¬μ¤μ¥ λ μΈ κ³ ");
    }

    @Override
    void μ§€κµ¬λ ¥μ„_κΈ°λ¥΄μ() {
        System.out.println("μ²­κ³„μ² λ¬λ‹");
    }

    @Override
    void μ—°μµν•μ() {
        System.out.println("λ°°ν… μ—°μµ");
    }

    @Override
    void λ£¨ν‹΄() {
        κ·Όμ΅μ„_ν‚¤μ°μ();
        μ§€κµ¬λ ¥μ„_κΈ°λ¥΄μ();
        μ—°μµν•μ();
    }
}
```

SoccerPlayerμ™€ BasketBallPlayer ν΄λμ¤κ°€ Athlete μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ©΄μ„ μ¤‘λ³µλ λ©”μ„λ“λ“¤μ΄ μƒκΈ°κ² λλ‹¤.

- κ³¨κ²© κµ¬ν„ ν΄λμ¤λ¥Ό ν™μ©ν•΄ μ¤‘λ³µ μ κ±°

```java

public interface Athlete {

    void κ·Όμ΅μ„_ν‚¤μ°μ();

    void μ§€κµ¬λ ¥μ„_κΈ°λ¥΄μ();

    void μ—°μµν•μ();

    void λ£¨ν‹΄();
}

// κ³µν†µλ λ©”μ„λ“λ” μ¶”μƒ ν΄λμ¤μΈ WangsimniAtleteμ—μ„ μ •μ
public abstract class WangsimniAthlete implements Athlete {
    
    @Override
    public void κ·Όμ΅μ„_ν‚¤μ°μ() {
        System.out.println("ν—¬μ¤μ¥ λ μΈ κ³ ");
    }

    @Override
    public void μ§€κµ¬λ ¥μ„_κΈ°λ¥΄μ() {
        System.out.println("μ²­κ³„μ² λ¬λ‹");
    }

    @Override
    public void λ£¨ν‹΄() {
        κ·Όμ΅μ„_ν‚¤μ°μ();
        μ§€κµ¬λ ¥μ„_κΈ°λ¥΄μ();
        μ—°μµν•μ();
    }
}

// WangsimniAthleteλ¥Ό μƒμ† ν›„ λ‹¤λ¥Έ λ¶€λ¶„λ§ Override
public class SoccerPlayer extends WangsimniAthlete implements Athlete {

    @Override
    public void μ—°μµν•μ() {
        System.out.println("μν… μ—°μµ");
    }
}

// WangsimniAthleteλ¥Ό μƒμ† ν›„ λ‹¤λ¥Έ λ¶€λ¶„λ§ Override
public class BaseballPlayer extends WangsimniAthlete implements Athlete {

    @Override
    public void μ—°μµν•μ() {
        System.out.println("λ°°ν… μ—°μµ");
    }
}

public class Main {
    
  public static void main(String[] args) {

      List<Athlete> athletes = new ArrayList<>();
      Athlete soccerPlayer = new SoccerPlayer();
      Athlete baseballPlayer = new BaseballPlayer();
      athletes.add(soccerPlayer);
      athletes.add(baseballPlayer);
  
      for (Athlete athlete : athletes) {
        athlete.λ£¨ν‹΄();
      }
  }
}
```

λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ§€ μ•κ³  μ¶”μƒ κ³¨κ²© κµ¬ν„ ν΄λμ¤λ¥Ό κµ¬ν„ν•΄ μ¤‘λ³µμ„ μ κ±°ν•μ€λ‹¤.

κ΄€λ΅€μƒ μΈν„°νμ΄μ¤ μ΄λ¦„μ΄Β `Interface`λΌλ©΄ κ³¨κ²© κµ¬ν„ ν΄λμ¤ μ΄λ¦„μ€Β `AbstractInterface`λ΅ μ§“λ”λ‹¤.

β†’ μμ‹λ΅ μ»¬λ ‰μ… ν”„λ μ„μ›ν¬μΒ `AbstractCollections`,Β `AbstractSet`,Β `AbstractList`Β λ“±μ΄ μλ‹¤.

## ν•µμ‹¬ μ •λ¦¬

μΌλ°μ μΌλ΅ λ‹¤μ¤‘ κµ¬ν„μ© νƒ€μ…μΌλ΅λ” μΈν„°νμ΄μ¤κ°€ κ°€μ¥ μ ν•©ν•λ‹¤. λ³µμ΅ν• μΈν„°νμ΄μ¤λΌλ©΄ κµ¬ν„ν•λ” μκ³ λ¥Ό λμ–΄μ£Όλ” κ³¨κ²© κµ¬ν„μ„ ν•¨κ» μ κ³µν•λ” λ°©λ²•λ„ κ³ λ ¤ν•΄λ³΄μ. 

κ³¨κ²© κµ¬ν„μ€ 'κ°€λ¥ν• ν•' μΈν„°νμ΄μ¤μ λ””ν΄νΈ λ©”μ„λ“λ΅ μ κ³µν•μ—¬ κ·Έ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• λ¨λ“  κ³³μ—μ„ ν™μ©ν•λ„λ΅ ν•λ” κ²ƒμ΄ μΆ‹λ‹¤. 'κ°€λ¥ν• ν•'μ΄λΌκ³  ν• μ΄μ λ”, μΈν„°νμ΄μ¤μ— κ±Έλ ¤ μλ” κµ¬ν„μƒμ μ μ•½ λ•λ¬Έμ— κ³¨κ²© κµ¬ν„μ„ μ¶”μƒ ν΄λμ¤λ΅ μ κ³µν•λ” κ²½μ°κ°€ λ” ν”ν•κΈ° λ•λ¬Έμ΄λ‹¤.

κ²°λ΅ μ μΌλ΅ μ¬μ‚¬μ©μ„±, μ μ—°μ„±, λ‹¤ν•μ„± μΈ΅λ©΄μ—μ„ μΈν„°νμ΄μ¤λ¥Ό μ°μ„ μ‹ν•λ”κ²ƒμ΄ μΆ‹λ‹¤.