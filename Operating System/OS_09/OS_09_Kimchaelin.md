# Thrashing(스래싱)의 개념과 발생 원인
- 페이지 부재율이 증가하여 CPU 이용률이 급격하게 떨어지는 현상.
- 페이지 교체가 과도하게 발생하여 실제 작업이 거의 진행되지 않는 상태.
- 스래싱이 발생하면 CPU는 대부분의 시간을 페이지를 교체하는 데 소모.

## 발생 원인
- 부적절한 메모리 할당: 프로세스에 필요한 메모리보다 적은 메모리를 할당하면, 지속적으로 페이지 폴트가 빈번히 발생하고, 스래싱 발생.
- 동시 실행 프로세스 과다: 여러 프로세스가 동시에 메모리를 점유하면서 필요한 페이지들을 자주 교체됨. 페이지 교체 작업에 대부분의 시간을 소모.
- 작업 집합(워킹셋) 크기의 증가: 프로세스가 자주 참조하는 페이지들의 집합의 크기가 커져 메모리 내에 충분히 유지할 수 없을 때, 자주 필요한 페이지가 스왑되어 스래싱 발생
- 캐시 미스 증가: 메모리 사용 패턴에 따라 페이지가 교체되면 페이지 폴트가 빈번히 발생.

## 해결 방안
- Working set
  - 지역성의 원리를 이용하여 자주 참조하는 패이지와 주변 데이터까지 메모리에 동시에 올라갈 수 있도록 보장하는 메모리 관리 방법.
  - 워킹셋의 합이 할당된 페이지 프레임보다 크게되면 Thrashing이 발생
###### - 워킹셋 : 프로세스의 작업을 구성하는 자주 참조되는 페이지들을 묶음.
###### - 지역성의 원리: 프로세스가 일정 시간 동안 집중적으로 특정 주소 영역을 참조하는 경향
###### - 시간 지역성 : 한 번 참조된 메모리는 빠른 시일 내 다시 참조될 확률이 높다.
###### - 공간 지역성 : 참조된 메모리 주변 데이터를 참조할 확률이 높다.
- Page Fault Frequency(페이지 부재 빈도)
  - 프로세스의 페이지 부재율을 주기적으로 조사하고 특정 임계값을 정해, 페이지 폴트가 많이 발생하면 그 프로세스에 더 많은 페이지 프레임을 할당하고, 적게 발생하면 할당된 프레임을 줄여서 다른 프로세스에 할당하는 방식
- 페이지 교체 알고리즘 최적화
  - 적절한 페이지 교체 알고리즘을 선택하면, 불필요한 페이지 교체를 줄여 페이지 폴트를 감소
- 프로세스 수 조절
  - 메모리 상황에 따라, 동시에 실행되는 프로세스 수 제한
- 메모리 증설
  - 물리적인 메모리 용량을 늘려 프로세스가 필요한 워킹 셋을 충분히 수용할 수 있도록 함.
