# 가상메모리
**가상 메모리**는 컴퓨터가 처리할 데이터와 프로그램 크기가 점점 커지면서 **물리 메모리(RAM)**의 용량 한계를 극복하기 위해 만들어졌다. 

과거의 컴퓨터는 모든 프로그램들이 반드시 **RAM**에 완전히 올라가야만 실행할 수 있었다. 하지만 **물리 메모리의 공간 부족으로 실행할 수 없는 프로그램들이 많아지면서 가상 메모리가 필요**하게 되었다.

# 가상 메모리란?

**물리 메모리의 제한을 넘어서는 용량을 사용할 수 있게하는 메모리 관리 기법**

## 가상 메모리의 동작 방식

### 1. 페이징 (Paging)

- 가상 메모리를 고정된 크기의 페이지로 나누고 물리 메모리에도 동일한 크기의 프레임을 마련한다.
- 프로그램이 실행될 때 필요한 페이지를 프레임에 적재하여 연속된 메모리가 필요없이 프로그램을 실행할 수 있다.
- 책 한권을 한번에 올려둘 공간이 부족해서 필요한 부분만 떼어내서 몇개의 페이지만 책장에 올려놓고 읽는 것 !

### 2. 페이지 교체 **(Page Swapping)**

- RAM에 자리가 부족할 때, 사용하지 않는 페이지를 하드디스크로 이동시키고 새로 필요한 페이지를 RAM에 적재하는 방식이다.
- 책장에 더 이상 책을 둘 자리가 없을 때 잠깐 필요없는 책을 다른 방에 두고 새 책을 올리는 것 !

# 가상메모리의 장점

1. **메모리 확장**
    - 물리 메모리보다 큰 프로그램도 실행이 가능하다.
        
        → 실제 RAM보다 더 많은 공간을 쓰는 것 처럼 컴퓨터를 사용할 수 있다.
        
2. **효율적 메모리 사용**
    - 필요한 데이터만 RAM으로 불러와 효율적으로 사용한다.
3. **프로세스 간 보호**
    - 각 프로그램은 서로 다른 메모리 공간을 사용해서 다른 프로그램의 데이터를 건드리지 못한다.
4. **멀티 프로세스 지원**
    - 여러 프로그램들을 동시에 실행할 수 있어 컴퓨터의 성능을 높인다.

# 가상메모리의 단점

1. **속도 저하**
    - RAM에 없는 데이터를 하드디스크에서 가져오는 과정이 느리다.
    - 물리메모리(RAM)이 책장이라면 하드디스크는 창고와 같음. 책장에 없는 책을 찾으려 창고를 뒤지는 데에는 시간이 많이 소요된다.
    - **Thrashing 현상 (Thrash : 마구 치다, 때리다)**
        - 메모리 부족으로 인해 **페이지 교체 작업(**하드디스크와 RAM간 데이터를 교환)**이 과도하게 발생**해 CPU 자원 대부분이 컨텍스트 스위칭에 쓰이는 현상이다.
        - 시스템이 심각하게 느려지게 된다.
        - 메모리 사용량이 많은 프로그램을 실행할 때 크게 나타나는 현상
2. **오버헤드 증가 (overhead : 추가비용)**
- 가상주소 → 실제주소 작업은 MMU(메모리 관리 장치)가 담당한다.
- 가상 주소를 실제 메모리 주소로 바꾸는데 시간이 걸리고 이 과정에서 성능이 떨어질 수 있다.
