# 아파치(Apache)는 멀티프로세스일까, 멀티스레드일까?

### 아파치
- 정적인 데이터를 처리하는 웹 서버
  - 웹서버
    - 클라이언트로부터 HTTP 요청을 받아들이고, 이를 처리하여 응답을 보내는 프로그램
- 최초 실행 시, 미리 프로세스를 생성해둠
- 요청이 들어오면 생성해둔 프로세스 중 하나를 할당하여 요청을 처리
- 프로세스 수를 일정 범위 내로 유지하고자 관리(생성과 삭제)

#### 즉, 멀티 프로세스로 구현되어 있지만 설정(Apache MPM)에 따라 멀티 스레드로 운용 가능
###### 참고: 아파치 멀티 프로세스 https://niklasjang.tistory.com/56

# 톰캣(Tomcat)은 멀티프로세스일까, 멀티스레드일까?
<img src="https://blog.kakaocdn.net/dn/GnXky/btryXb1OIjc/CKjkDWWJ79TOxo0eddVKQK/img.png" width="70%">

### 톰캣
- 톰켓은 서블릿 컨테이너만 있는 웹 애플리케이션 서버(WAS)
  - 서블릿 컨테이너
    - 서블릿을 실행하고 관리하는 컨테이너
- 요청이 들어오면 Thread Pool 내에 스레드를 제공하여 요청을 처리
- 처리가 끝나면 스레드를 다시 풀로 반환
#### 즉, 멀티 스레드로 구현되어있음
###### 서블릿 : 클라이언트의 요청을 받고 요청을 처리하여 결과를 클라이언트에게 제공하는 자바 인터페이스.

#### 아파치 vs 톰캣
<img src="https://velog.velcdn.com/images/remon/post/9c6356f9-16a7-4220-ae45-3c0201aeb13a/image.png" width="70%">

- 아파치 서버 : 정적인 파일(이미지, HTML, CSS, JS 등) 처리해주는 웹 서버(80포트)
- 톰캣 : 웹서버에서 정적으로 처리해야할 데이터를 제외한 JSP, ASP, PHP 등은 웹 컨테이너(톰캣)에게 전달된다. DB 처리, 로그인 처리 등 같은 동적인 데이터 처리하는 웹 애플리케이션 서버(8080포트)
###### 아파치 톰캣(WAS) : WAS는 웹서버 + 서블릿 컨테이너이므로, 톰캣 안에서 아파치 기능을 사용되다보니, 아파치 톰캣으로 묶어 부르기도 한다.
