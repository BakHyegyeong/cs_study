# 리피터, 허브, 브릿지, 라우터

위의 장비들 모두 OSI 7계층에서 사용되는 네트워킹 장비이다.

# 1계층(물리 계층) - 리피터, 허브

## 리피터

노드 간 흐르는 **전기 신호를 정형화하고 증폭**하는 기능을 담당하는 네트워크 중계 장비

- 먼 거리의 통신을 가능하게 하지만 **다른 네트워크 장비들이 리피터 기능을 지원**하기에 단일로는 잘 사용되지 않는다.
- MAC 주소나 IP주소를 처리하지 못한다.

## 허브

리피터와 마찬가지로 전기 신호를 정형화하고 증폭하는 기능이 있지만 **여러 대의 장비를 LAN에 접속할 수 있게** 한다.

- 수신한 신호에 대해서 증폭과 재생을 제외하고 **어떠한 제어도 하지 않기 때문에 플러딩 문제**가 발생한다.
- 콜리전 도메인 : 하나의 허브에 연결되어있는 모든 장비


> ⭐ 플러딩 : 신호를 수신한 포트를 제외한 **모든 포트에 수신한 신호를 송신**하는데 이때 같은 허브에 있는 컴퓨터가 동시에 신호를 송신할 경우 **신호가 부딪혀 충돌**하는 것


# 2계층(데이터 링크 계층) - 브릿지, 스위치

## 브릿지

허브와 마찬가지로 네트워크 세그먼트를 서로 연결해주는 장치

→ 리피터, 허브와 마찬가지로 전송거리를 연장시키지만 허브와 다르게 **MAC 주소를 기반으로 전송 포트를 결정**할 수 있다.

### 제공 기능

- Leaarning : 브릿지로 전송된 통신의 맥 주소를 맥 주소 테이블에 저장한다.
- Flooding : 목적지 정보가 맥 주소 테이블에 없는 주소라면 들어온 포트를 제외한 나머지를 모든 포트로 전송하여 테이블에 새 주소들을 추가한다.
- Forwarding : 목적지 정보가 맥 주소 테이블에 있는 주소라면 해당 포트로 데이터를 전송한다.
- Filtering : 브릿지를 건너지 못하게 하는 기능으로 출발지와 목적지가 같은 세그먼트 상에 있다면 다른 세그먼트로의 전송을 막는다.
→ 콜리전 도메인을 나눌 수 있다.
- Aging : 어떤 맥 주소를 테이블에 저장 후 계속 유지하지 않고 일정 기간 내에 전송된 통신이 없다면 테이블에서 삭제한다. 이때 이 일정 기간을 의미한다.


> 💡 네트워크 세그먼트 : 하나의 큰 네트워크를 구성하는 작은 네트워크들


## 스위치

위의 브릿지와 거의 유사한 특징과 기능을 가지고 있지만 몇 가지 차이점으로 **브릿지의 상위 호환 역할**을 한다.

- 처리 방식 : 스위치는 하드웨어, 브릿지는 소프트웨어 방식을 사용한다.
- 속도 : 스위치가 **훨씬 빠르며** 스위칭 속도의 경우도 cut-through 방식을 이용해 빠르다. <br>
→ cut-through : 들어오는 패킷의 목적지 주소만 본 후 바로 스위칭을 하는 방식
- 제공되는 포트 수 : 스위치가 **훨씬 많고**, 포트 별로 속도를 지정하는 것도 가능하다.

### 스위치 종류

- L1 스위치(허브) : 1계층인 물리 계층에서 동작하며 **허브라 불리기도 한다.**
- L2 스위치(스위칭 허브) : 기본 스위치로써 2계층인 데이터 링크 계층에서 동작한다.
    - 스위칭 기능 : MAC 주소를 기반으로 패킷을 전달
        
        → 허브와 달리 모든 장비에게 데이터를 전달하지 않고 **MAC주소에 해당하는 장비에만** 데이터를 전달한다.
        
    - 다른 방식에 비해 저렴하면서 간단한 구조를 가지고 있고 성능과 신뢰성이 높다.
    - 라우팅이 불가능하다는 단점이 있다.
- L3 스위치(라우터, 공유기) : 3계층인 네트워크 계층에서 동작한다.
    - **L2 스위치에 라우팅 기능이 추가**된 장비로 IP 정보를 보고 스위칭한다.
- L4 스위치 : 4계층인 전송계층에서 동작한다.
    - **IP와 포트 기반으로 스위칭**을 한다.
    - 프로토콜인 TCP, UDP를 기반으로 **로드 밸런싱 기능**을 제공한다.
    - ACTIVE-ACTIVE / ACTIVE-STANDBY 기능 : 하나의 서버가 죽어 서비스가 중단되는 경우 다른 서버로 해당 서비스를 대체하는 기능
- L7 스위치 : 7계층인 응용 계층에서 동작한다.
    - L4 스위치처럼 로드 밸런싱 기능을 제공한다.
    - 페이로드를 분석하여 패킷을 처리한다.
    - 데이터 분석을 통해 Dos 같은 네트워크 공격에 대해 방어가 가능하다는 점에서 네트워크 보안이 강화된다.

### L4 스위치와 L7 스위치

| 구분 | L4 스위치 | L7 스위치 |
| --- | --- | --- |
| 스위칭 | IP주소 및 TCP/UDP Port 정보 | IP주소 및 TCP/UDP Port 정보와 패킷 내용 |
| 로드 밸런싱 | TCP/UDP Port를 이용한 로드 밸런싱 | HTTP의 URL, FTP 쿠키 정보 및 바이러스 패턴을 분석한 로드 밸런싱 |

# 3계층(네트워크 계층) - 라우터

: 네트워크 간 데이터 전송을 위해 최적의 경로를 설정하고 이 경로를 따라 데이터를 전송하는 장비 

→ **데이터 링크 계층의 기능으로는 해당 네트워크 안에서만 통신이 가능하지만 네트워크 계층에서는 네트워크 간 통신을 가능하게 한다.**

### 라우터 종류

- **코어 라우터** : 인터넷의 중심에 위치하며 인터넷 서비스 제공자(ISP)의 랜이나 여러 개의 **ISP 네트워크를 서로 연결**한다.
- 센터 라우터 : WAN(광역 네트워크) 회선을 거쳐 **회사의 본점과 회사의 지점을 서로 연결**한다.
    
    → 인터넷 서비스 제공자와 기업의 네트워크와 연결할 때에도 쓰인다.
    
- **엣지 라우터** : **LAN(근거리 통신망)의 경계에 위치**하며 지점, 영업소의 네트워크를 공용 인터넷 또는 사설 WAN 회선, 외부 LAN에 연결하여 회사의 본점의 라우터에 접근한다.
- 원격 라우터 : LAN과 WAN을 중계한다. WAN 라우터라고도 부른다.
- 브로드밴드 라우터 : 가정이나 작은 규모의 기업에서 브로드밴드급의 인터넷에 접속할 때 쓰인다.
- 핫스팟 라우터 : 휴대용 핫스팟에서 인터넷에 접속할 때 쓰인다.
- ISP 라우터 : 인터넷을 제공하는 제공자에 의해 접속할 때 쓰이는 라우터이다.

![](https://www.cloudflare.com/resources/images/slt3lc6tev37/6ARE3uWw7nvYn4VhyNh1Z6/d92a3e1bfa0878adb6c93ac91b12b98f/what_is_WAN_wide_area_network.png)

