# IOCP란 무엇인가요?
- 소켓이나 파일의 입출력을 최소한의 스레드를 사용해서 처리하는 기법
- 비동기(Asynchronous) + 스레드 풀링(Thread Pooling) + 논 블로킹(Non-Blocking) + 중첩 입출력(Overlapped I/O)과 같은 개념들을 이용해서 작동

> - 스레드 풀링 : 스레드를 미리 생성해놓고, 요청이 오면 해당 스레드를 할당하는 방식
> - 중첩 입출력 : 일반 I/O는 동기이지만, 중첩 입출력은 입출력 요청을 보낸 후, 결과가 돌아오기 전에 다른 작업을 수행할 수 있는 방식(비동기)

## 동기 vs 비동기
- 동기 : 요청을 보내고 응답이 올 때까지 다른 작업을 수행하지 않음
- 비동기 : 요청을 보내고 응답을 기다리지 않고 다른 작업을 수행하고, 응답이 오면 처리하는 방식

## 논 블로킹 vs 블로킹
<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbtMmr2%2FbtsDT4bS9hg%2FSjTgdEDhHz8jcMGUm7WEO0%2Fimg.png">

- 블로킹 : 자신의 작업을 진행하다가 다른 주체의 작업이 시작되면 다른 작업이 끝날 때까지 기다렸다가 작업을 진행함
- 논 블로킹 : 다른 주체의 작업에 상관없이 자신의 작업을 진행함

## IOCP 동작 과정
1. 완료 포트(Completion Port) 생성
###### 완료 포트 : I/O 작업의 완료 알림을 받을 수 있는 커널 오브젝트
2. I/O 객체와 Completion Port 객체 연결
###### -> I/O 작업의 완료 알림을 받을 수 있다.
3. 작업 스레드 생성
###### -> 작업자 스레드는 완료 포트에서 알림을 받아 작업을 처리한다.
4. 작업자 스레드 대기
###### -> 작업자 스레드는 CompletionPort의 알림을 기다린다.
5. I/O 작업 완료 알림 처리

## IOCP 장단점
- 장점
  - 스레드 풀을 사용하여, 스레드 생성 및 관리에 대한 부담을 줄일 수 있다.
  - context switching이 줄어들어 성능 향상
- 단점
  - 복잡한 구조로 인해 구현이 어려울 수 있다.
  - Window에서만 사용이 가능하다.

## IOCP가 Non-Blocking I/O와 어떤 점에서 차별화되나요?
- Non-Blocking I/O는 단순히 블로킹을 피하는 데 초점이 맞춰져 있지만, IOCP는 대규모 네트워크 I/O를 위해 설계된 완전한 비동기 처리 모델입니다. IOCP는 더 적은 리소스를 사용하며, 효율적인 병렬 처리와 높은 확장성을 제공한다
# 브라우저에 네이버 홈페이지 URL을 입력했을 때 일어나는 과정
1. 브라우저 URL 입력
2. 브라우저 캐시에서 DNS 기록을 확인함.
3. 만일, 없다면 DNS 서버에서 해당 URL의 IP 주소를 요청
4. 해당 IP로 TCP 연결을 요청 -> 3-way handshake
5. 해당 서버에 HTTP 요청을 보냄 
6. 서버는 요청을 받아 해당 요청에 대한 응답을 보냄 
7. 브라우저는 해당 HTML 파일을 랜더링하여 화면에 표시

## OSI 7계층과 관련해서 설명
- 물리 계층에서 신호가 전달됨
- 데이터 링크 계층에서 이더넷 프레임이 만들어짐
- 네트워크 계층에서 DNS를 통해 IP 주소를 얻음
- 전송 계층에서 TCP 연결을 맺음
- 세션 계층에서 SSL/TLS 연결을 맺음(보안된 연결(https))
- 표현 계층에서 데이터가 적절히 변환되어 전달됨(압축, 암호화 등)
- 응용 계층에서 브라우저가 최종적으로 검색 결과를 화면에 표시됨

###### 이더넷 : LAN에서 사용되는 통신 규약. 이더넷 프레임은 데이터 링크 계층에서 사용되며, MAC 주소를 사용하여 통신한다.
###### DNS : 도메인 이름을 IP 주소로 변환하는 시스템
###### MAC 주소 : 네트워크 카드에 할당된 고유한 주소 -> 즉, 네트워크 장비들이 서로를 식별하기 위한 주소
