# HTTPμ™€ HTTPSμ μ°¨μ΄μ 

## HTTP

**μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄μ— λ°μ΄ν„°λ¥Ό μ „μ†΅ν•κΈ° μ„ν• ν”„λ΅ν† μ½**μ΄μ 

μΈν„°λ„·μ—μ„ **HyperTextλ¥Ό κµν™ν•κΈ° μ„ν• ν†µμ‹  κ·μ•½**

β†’ **λ©€ν‹°ν”λ ‰μ‹±, ν—¤λ” μ••μ¶•, μ„λ²„ ν‘Έμ‹, μ”μ²­μ μ°μ„ μμ„ μ²λ¦¬ κΈ°λ¥μ„ μ§€μ›**ν•λ‹¤.

### μ§€μ› κΈ°λ¥

1. λ©€ν‹°ν”λ ‰μ‹± 
    
    : μ—¬λ¬ κ°μ μ¤νΈλ¦Όμ„ μ‚¬μ©ν•΄ μ†΅μμ‹ ν•λ‹¤.
    
    β†’ κ° μ¤νΈλ¦Όμ΄ λ‹¤λ¥Έ μ¤νΈλ¦Όμ—κ² μν–¥μ„ λΌμΉμ§€ μ•λ”λ‹¤.
    
    
    > π’΅ μ¤νΈλ¦Ό : μ‹κ°„μ΄ μ§€λ‚¨μ— λ”°λΌ μ‚¬μ©ν•  μ μκ² λλ” **μΌλ ¨μ λ°μ΄ν„° μ”μ†λ¥Ό κ°€λ¦¬ν‚¤λ” λ°μ΄ν„° νλ¦„**

    <br>
    
    ![](https://miro.medium.com/v2/resize:fit:828/format:webp/0*lY05UTuA-dWCXU-q.png)
    
    λ©€ν‹°ν”λ ‰μ‹±μ€ μ—¬λ¬ κ°μ μ…λ ¥μ„ ν•λ‚μ μ¶λ ¥μΌλ΅ λ‚΄λ³΄λ‚Έλ‹¤.
    
    **μ—¬λ¬ κ°μ νμΌμ„ ν•λ‚μ TCP μ—°κ²°μ„ ν†µν•΄ μ „μ†΅**ν•κ³  μ΄ μ—°κ²° λ‚΄μ—μ„ **νμΌλ§λ‹¤ streamμ„ μƒμ„±ν•΄ λ°μ΄ν„°λ¥Ό λ™μ‹μ „μ†΅**ν•  μ μκ² λλ” κ²ƒμ΄λ‹¤.
    
    β†’ μ΄ λ°©λ²•μ„ ν†µν•΄ HOL Blocking λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μλ‹¤.
    
2. ν—¤λ” μ••μ¶•
    
    : ν—ν”„λ§ μ½”λ”© μ••μ¶• μ•κ³ λ¦¬μ¦μ„ μ‚¬μ©ν•λ” HPACK μ••μ¶• ν•μ‹μ„ μ‚¬μ©ν•΄ ν—¤λ”λ¥Ό μ••μ¶•ν•λ‹¤.
    
    > π’΅ ν—ν”„λ§ μ½”λ”© <br>
    > λ¬Έμμ—΄μ„ λ¬Έμ λ‹¨μ„λ΅ μΌκ° λΉλ„μλ¥Ό μ„Έμ–΄ λΉλ„κ°€ λ†’μ€ μ •λ³΄λ” μ μ€ λΉλ„μλ¥Ό μ‚¬μ©ν•΄ ν‘ν„ / λΉλ„κ°€ λ‚®μ€ μ •λ³΄μλ” λΉ„νΈ μλ¥Ό λ§μ΄ μ‚¬μ©ν•μ—¬ μ „μ²΄μ μΌλ΅ ν‘ν„μ— ν•„μ”ν• λΉ„νΈμ–‘μ„ μ¤„μ΄λ” μ›λ¦¬
        

1. μ„λ²„ ν‘Έμ‹
    
    : ν΄λΌμ΄μ–ΈνΈμ μ”μ²­ μ—†μ΄ μ„λ²„κ°€ λ°”λ΅ λ¦¬μ†μ¤λ¥Ό ν‘Έμ‹ν•  μ μλ” κ²ƒ
    
    β†’ μλ¥Ό λ“¤μ–΄ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ—κ² html νμΌμ„ λ³΄λ‚Ό λ• cssνμΌλ„ λ³„ λ‹¤λ¥Έ μ”μ²­ μ—†μ΄ μ„λ²„μ—μ„ λ¨Όμ € μ „μ†΅ν•  μ μλ‹¤.
    

### λ¬Έμ μ 

**μ•”νΈν™”κ°€ λμ§€ μ•μ€ ν‰λ¬Έ λ°μ΄ν„°λ¥Ό μ „μ†΅**ν•κΈ° λ•λ¬Έμ— **λ°μ΄ν„° μ μ¶**μ΄ λ°μƒν•  μ μλ‹¤.

## HTTPS

**μ• ν”λ¦¬μΌ€μ΄μ… κ³„μΈµκ³Ό μ „μ†΅ κ³„μΈµ μ‚¬μ΄μ— μ‹ λΆ° κ³„μΈµμΈ SSL/TLSκ³„μΈµμ„ λ„£μ€ μ‹ λΆ°ν•  μ μλ” HTTP μ”μ²­**μ„ μλ―Έν•λ‹¤.

β†’ **ν†µμ‹ μ„ μ•”νΈν™”**ν•  μ μλ‹¤.

β†’ HTTPS μ—°κ²° κ³Όμ •μ—μ„ SSL Handshakeκ°€ μ΄λ£¨μ–΄μ§€λ©° λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹κ³Ό λΉ„λ€μΉ­ν‚¤ μ•”νΈν™” λ°©μ‹μ΄ λ¨λ‘ μ‚¬μ©λλ‹¤.

### SSL Handshake


![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F990B63335BC96D3020)

1. **ClientHello** : μ‚¬μ©ν•  SSL or TLS λ²„μ „κ³Ό **μ‚¬μ΄λ²„μνΈ,** **μ„μμ μ«μλ΅ λ λ‚μ**λ¥Ό ν•¨κ» μ „μ†΅ν•λ‹¤.
    
    > π’΅ μ‚¬μ΄λ²„μνΈ :  μ•”νΈν™” μ•κ³ λ¦¬μ¦μ μ§‘ν•©μΌλ΅μ¨ ν”„λ΅ν† μ½, AEAD μ‚¬μ΄νΌ λ¨λ“, ν•΄μ‹± μ•κ³ λ¦¬μ¦μ΄ λ‚μ—΄λ κ·μ•½μ„ μλ―Έν•λ‹¤. <br>
    β†’ ν΄λΌμ΄μ–ΈνΈκ°€ μ‚¬μ΄λ²„μνΈλ¥Ό μ „λ‹¬ν•λ©΄ **μ„λ²„κ°€ μ‚¬μ©ν•  μ•”νΈν™” μ•κ³ λ¦¬μ¦μ„ κ²°μ •ν•λ‹¤.**
    > - AEAD μ‚¬μ΄νΌ λ¨λ“ : λ°μ΄ν„° μ•”νΈν™” μ•κ³ λ¦¬μ¦
    
    

2. **ServerHello** : μ„λ²„λ” **μ‚¬μ΄λ²„ μνΈμ—μ„ μ‚¬μ©ν•  μ•”νΈν™” μ•κ³ λ¦¬μ¦μ„ μ„ νƒν• ν›„ μ„μμ μ«μλ΅ λ λ‚μ**λ¥Ό ν•¨κ» μ „μ†΅ν•λ‹¤.
    
    **+) Certificate** : **κ³µκ°ν‚¤κ°€ ν¬ν•¨λ SSL μΈμ¦μ„**λ¥Ό μ „μ†΅ν•λ‹¤. <Br> 
    β†’ μΈμ¦μ„ λ‚΄λ¶€μ— κ³µκ°ν‚¤κ°€ μ—†λ‹¤λ©΄ μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ— μ§μ ‘ κ³µκ°ν‚¤λ¥Ό μ „λ‹¬ν•λ‹¤.
    
3. μΈμ¦μ„ ν™•μΈ λ° pre-master-secret μ•”νΈν™”  
    - CAμ κ³µκ°ν‚¤λ΅ SSL μΈμ¦μ„λ¥Ό λ³µνΈν™”ν•λ‹¤.
        
        β†’ λ³µνΈν™”κ°€ λλ‹¤λ©΄ μ„λ²„κ°€ λ³΄λ‚΄μ¨ SSL μΈμ¦μ„κ°€ CAμ—μ„ λ°κΈ‰ν• μΈμ¦μ„μ„μ΄ λ³΄μ¥λλ‹¤.
        
    - ν΄λΌμ΄μ–ΈνΈλ” **μμ‹ μ λ‚μμ™€ μ„λ²„μ λ‚μλ¥Ό μ΄μ©ν•΄ pre-master-secretλ¥Ό μƒμ„±ν• ν›„ μΈμ¦μ„λ¥Ό ν†µν•΄ μ–»μ€ κ³µκ°ν‚¤λ΅ μ΄λ¥Ό μ•”νΈν™”**ν•λ‹¤.

4. μ•”νΈν™”λ pre-master-secretλ¥Ό μ„λ²„μ— μ „μ†΅ν•λ‹¤.
5. **pre-master-secret λ³µνΈν™”** : μ„λ²„λ” μ„λ²„μ λΉ„λ°€ ν‚¤λ¥Ό μ΄μ©ν•΄ λ³µνΈν™”ν•λ‹¤.
    
    β†’ μ΄λ¥Ό master-secretλ΅ μ €μ¥ν•λ‹¤.
    
6.  **master-secret λ° session key μƒμ„±** : master-secretλ΅ session Keyλ¥Ό μƒμ„±ν•κ³  μ¶”ν›„ μ•”νΈν™” ν†µμ‹ μ— μ‚¬μ©ν•λ‹¤.
    
    β†’ μ΄ session keyλ” λ€μΉ­ν‚¤ μ•”νΈν™”μ— μ‚¬μ©λλ‹¤.
    


> β­
> - ν΄λΌμ΄μ–ΈνΈκ°€ μΈμ¦μ„μ κ³µκ°ν‚¤λ΅ pre master secret μ•”νΈν™”ν•κ³  μ„λ²„μ—μ„ μ΄λ¥Ό κ°μΈν‚¤λ΅ λ³µνΈν™”λ” κ³Όμ • - λΉ„λ€μΉ­ν‚¤ λ°©μ‹
> - session keyλ¥Ό ν™μ©ν• μ•”νΈν™” λ°©μ‹μ ν†µμ‹  - λ€μΉ­ν‚¤ λ°©μ‹

<br>

# **GETκ³Ό POST λ©”μ†λ“μ μ°¨μ΄μ **

## GET

**μ΅°νλ¥Ό λ©μ **μΌλ΅ μ‚¬μ©λλ©° **μ”μ²­λ°μ΄ν„°λ¥Ό urlμ νλΌλ―Έν„°**λ΅ λ‹΄μ•„μ„ μ‚¬μ©

β†’ urlμ— λ°μ΄ν„°λ¥Ό μ €μ¥ν•λ” λ°©λ²•μ΄λ―€λ΅ **μ „μ†΅ν•λ” κΈΈμ΄μ— μ ν•μ΄ μ΅΄μ¬**

- query string : `/user?id=123`
- path value : `/users/123`

## POST

**λ°μ΄ν„°λ¥Ό μƒμ„±**ν•  λ• μ‚¬μ©λλ©° **μ”μ²­ μ •λ³΄λ¥Ό BODYμ— λ‹΄μ•„ μ‚¬μ©**

β†’ GETκ³Ό λ‹¬λ¦¬ **κΈΈμ΄ μ ν•μ΄ μ—†μ–΄ λ€μ©λ‰ λ°μ΄ν„° μ „μ†΅**μ΄ κ°€λ¥ν•λ‹¤.

β†’ μ”μ²­ ν—¤λ”μ **Content-typeμ— μ”μ²­ λ°μ΄ν„°μ νƒ€μ…μ„ μ •μ**ν•΄μ•Ό ν•λ‹¤.


> β­ GETκ³Ό λ‹¬λ¦¬ POSTλ” λ°μ΄ν„°λ¥Ό BODYμ— λ‹΄μ•„μ„ μ „μ†΅ν•κΈ° λ•λ¬Έμ— urlμ— λ°μ΄ν„°κ°€ λ³΄μ΄λ” GET λ°©μ‹λ³΄λ‹¤λ” λ³΄μ• μΈ΅μ—μ„ μ•μ „ν•λ‹¤.