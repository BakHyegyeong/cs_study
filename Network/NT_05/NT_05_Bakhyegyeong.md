# HTTP와 HTTPS의 차이점

## HTTP

**서버와 클라이언트 사이에 데이터를 전송하기 위한 프로토콜**이자 

인터넷에서 **HyperText를 교환하기 위한 통신 규약**

→ **멀티플렉싱, 헤더 압축, 서버 푸시, 요청의 우선순위 처리 기능을 지원**한다.

### 지원 기능

1. 멀티플렉싱 
    
    : 여러 개의 스트림을 사용해 송수신한다.
    
    → 각 스트림이 다른 스트림에게 영향을 끼치지 않는다.
    
    
    > 💡 스트림 : 시간이 지남에 따라 사용할 수 있게 되는 **일련의 데이터 요소를 가리키는 데이터 흐름**

    <br>
    
    ![](https://miro.medium.com/v2/resize:fit:828/format:webp/0*lY05UTuA-dWCXU-q.png)
    
    멀티플렉싱은 여러 개의 입력을 하나의 출력으로 내보낸다.
    
    **여러 개의 파일을 하나의 TCP 연결을 통해 전송**하고 이 연결 내에서 **파일마다 stream을 생성해 데이터를 동시전송**할 수 있게 되는 것이다.
    
    → 이 방법을 통해 HOL Blocking 문제를 해결할 수 있다.
    
2. 헤더 압축
    
    : 허프만 코딩 압축 알고리즘을 사용하는 HPACK 압축 형식을 사용해 헤더를 압축한다.
    
    > 💡 허프만 코딩 <br>
    > 문자열을 문자 단위로 쪼개 빈도수를 세어 빈도가 높은 정보는 적은 빈도수를 사용해 표현 / 빈도가 낮은 정보수는 비트 수를 많이 사용하여 전체적으로 표현에 필요한 비트양을 줄이는 원리
        

1. 서버 푸시
    
    : 클라이언트의 요청 없이 서버가 바로 리소스를 푸시할 수 있는 것
    
    → 예를 들어 서버가 클라이언트에게 html 파일을 보낼 때 css파일도 별 다른 요청 없이 서버에서 먼저 전송할 수 있다.
    

### 문제점

**암호화가 되지 않은 평문 데이터를 전송**하기 때문에 **데이터 유출**이 발생할 수 있다.

## HTTPS

**애플리케이션 계층과 전송 계층 사이에 신뢰 계층인 SSL/TLS계층을 넣은 신뢰할 수 있는 HTTP 요청**을 의미한다.

→ **통신을 암호화**할 수 있다.

→ HTTPS 연결 과정에서 SSL Handshake가 이루어지며 대칭키 암호화 방식과 비대칭키 암호화 방식이 모두 사용된다.

### SSL Handshake


![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F990B63335BC96D3020)

1. **ClientHello** : 사용할 SSL or TLS 버전과 **사이버수트,** **임의의 숫자로 된 난수**를 함께 전송한다.
    
    > 💡 사이버수트 :  암호화 알고리즘의 집합으로써 프로토콜, AEAD 사이퍼 모드, 해싱 알고리즘이 나열된 규약을 의미한다. <br>
    → 클라이언트가 사이버수트를 전달하면 **서버가 사용할 암호화 알고리즘을 결정한다.**
    > - AEAD 사이퍼 모드 : 데이터 암호화 알고리즘
    
    

2. **ServerHello** : 서버는 **사이버 수트에서 사용할 암호화 알고리즘을 선택한 후 임의의 숫자로 된 난수**를 함께 전송한다.
    
    **+) Certificate** : **공개키가 포함된 SSL 인증서**를 전송한다. <Br> 
    → 인증서 내부에 공개키가 없다면 서버가 클라이언트에 직접 공개키를 전달한다.
    
3. 인증서 확인 및 pre-master-secret 암호화  
    - CA의 공개키로 SSL 인증서를 복호화한다.
        
        → 복호화가 된다면 서버가 보내온 SSL 인증서가 CA에서 발급한 인증서임이 보장된다.
        
    - 클라이언트는 **자신의 난수와 서버의 난수를 이용해 pre-master-secret를 생성한 후 인증서를 통해 얻은 공개키로 이를 암호화**한다.

4. 암호화된 pre-master-secret를 서버에 전송한다.
5. **pre-master-secret 복호화** : 서버는 서버의 비밀 키를 이용해 복호화한다.
    
    → 이를 master-secret로 저장한다.
    
6.  **master-secret 및 session key 생성** : master-secret로 session Key를 생성하고 추후 암호화 통신에 사용한다.
    
    → 이 session key는 대칭키 암호화에 사용된다.
    


> ⭐
> - 클라이언트가 인증서의 공개키로 pre master secret 암호화하고 서버에서 이를 개인키로 복호화는 과정 - 비대칭키 방식
> - session key를 활용한 암호화 방식의 통신 - 대칭키 방식

<br>

# **GET과 POST 메소드의 차이점**

## GET

**조회를 목적**으로 사용되며 **요청데이터를 url의 파라미터**로 담아서 사용

→ url에 데이터를 저장하는 방법이므로 **전송하는 길이에 제한이 존재**

- query string : `/user?id=123`
- path value : `/users/123`

## POST

**데이터를 생성**할 때 사용되며 **요청 정보를 BODY에 담아 사용**

→ GET과 달리 **길이 제한이 없어 대용량 데이터 전송**이 가능하다.

→ 요청 헤더의 **Content-type에 요청 데이터의 타입을 정의**해야 한다.


> ⭐ GET과 달리 POST는 데이터를 BODY에 담아서 전송하기 때문에 url에 데이터가 보이는 GET 방식보다는 보안 측에서 안전하다.