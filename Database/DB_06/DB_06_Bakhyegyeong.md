# 이상 현상

**불필요한 데이터 중복**으로 인해 릴레이션에 대한 **데이터 삽입, 수정, 삭제 연산을 할 때 발생하는 오류**

→ 정규화를 통해 해결할 수 있다.

| 학번 | 이름 | 나이 | 성별 | 강의코드 | 강의명 | 전화번호 |
| --- | --- | --- | --- | --- | --- | --- |
| 1011 | 이태호 | 23 | 남 | AC1 | 데이터베이스 개론 | 010-2627-8123 |
| 1012 | 강민정 | 20 | 여 | AC2 | 운영체제 | 010-4665-1941 |
| 1013 | 김현수 | 21 | 남 | AC3 | 자료구조 | 010-5223-4464 |
| 1013 | 김현수 | 21 | 남 | AC4 | 웹 프로그래밍 | 010-5223-4464 |
| 1014 | 이병철 | 26 | 남 | AC5 | 알고리즘 | 010-6305-2912 |

- 삽입 이상 : 데이터를 삽입할 때 **의도와 다른 값들까지도 삽입**되는 현상
    
    → 강의를 아직 수강하지 않은 새로운 학생을 삽입할 경우 **강의 코드와 강의명 속성에는 null값**이 들어가야 한다.
    
- 갱신 이상 : 중복된 데이터 중 **일부만 수정되어 데이터 모순**이 일어나는 현상
    
    → 강의 코드가 `AC3`인 김현수의 전화번호를 수정할 경우, 3번째 튜플의 데이터만 수정된다.
    
    → 3, 4번째 튜플은 **같은 사용자의 데이터임에도 불구하고 전화번호가 다르게 된다.**
    
- 삭제 이상 : 데이터 삭제 시 **의도와 다른 값들도 함께 삭제**되는 현상
    
    → 강의코드가 `AC1`인 데이터베이스 개론 강의를 삭제하게 되면, **이태호 학생의 데이터까지 삭제**된다.
    

# 함수적 종속성

데이터(종속자)들이 어떤 기준 값(결정자)에 의해 종속되는 현상

→ 어떤 테이블의 속성 A와 B에 대하여, **A값에 의해 B값이 유일하게 정해지는 관계**를 말하며, "B는 A에 함수 종속이다"라고 한다. 

→ A를 결정자(Determinant)라고 하고, B를 종속자(Dependant)라고 하며,  `A → B`의 기호로 나타낸다.

<br>

예를 들어 테이블에 [생일]과 [나이]라는 필드가 존재할 경우에 **[나이] 필드는 [생일] 필드에 함수 종속이다.** 

생일을 알고 있다면, 나이에 대한 필드를 참조하지 않거나, 아예 필드를 유지하지 않아도 나이를 결정할 수 있다. 

→ 데이터베이스 설계 단계에서 함수 종속 관계에 있는 필드를 찾는다면, 그 만큼 **중복된 데이터를 줄일 수 있다.** 

## 함수 종속성의 종류

| **사원번호** | 사원이름 | 주소 | 전화번호 | 직책 | **부서번호** | 부서이름 |
| --- | --- | --- | --- | --- | --- | --- |
| C001 | xxx | 부산시 | 123-7855 | 사원 | X001 | 영업 |
| S004 | yyy | 수원시 | 019-5481 | 사원 | X002 | 인사 |
| T141 | vvv | 서울시 | 222-5525 | 사원 | X003 | 마케팅 |

- 완전 함수 종속 : **종속자가 기본키에만 종속**되며 기본키가 여러 속성으로 구성되어 있을경우 **기본키를 구성하는 모든 속성에 종속**된다.
    
    → 기본키 (사원번호, 부서번호)를 통해서 종속자(직책)을 종속한다.
    
- 부분 함수 종속 : **기본키를 구성하는 속성의 일부에 종속**되거나, **기본키가 아닌 다른 속성에 종속**되는 경우
    
    → 기본키 중 **사원번호**를 통해서 종속자(사원이름, 주소, 전화번호)을 종속 할 수 있으며, 기본키 중 **부서번호**를 통해서 종속자(부서이름)을 종속 할 수 있다.
    
- 이행 함수 종속 : A, B, C 세 속성이 있고 A→B, B→C 종속 관계가 있을 때, **A→C가 성립**하는 경우
    
    → X(사원번호)를 통해서 Y(사원이름)을 종속할 수 있다. 
    
    → Y(사원이름)를 통해서 Z(주소, 전화번호, 직책)등을 종속 할 수 있다.
    
    → X(사원번호)를 통해서 Z(주소, 전화번호, 직책)등을 종속할 수 있다.
    
